{"version":3,"file":"js/935.js","mappings":"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","sources":["webpack://dental-blade/./src/pages/admin/ui/admin-prices/index.vue?d47e","webpack://dental-blade/./src/pages/admin/ui/admin-prices/index.vue","webpack://dental-blade/./src/pages/admin/ui/admin-prices/index.vue?71ea"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-77bda675\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"admin-prices\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1))\nconst _hoisted_3 = { class: \"prices__content\" }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"item__add-form\"\n}\nconst _hoisted_5 = { class: \"input-field\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"service-category\" }, \"Категория:\", -1))\nconst _hoisted_7 = { class: \"input-field\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"service-name\" }, \"Название услуги:\", -1))\nconst _hoisted_9 = { class: \"input-field\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"service-price\" }, \"Цена:\", -1))\nconst _hoisted_11 = { class: \"input-field\" }\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"service-length\" }, \"Продолжительность (минуты):\", -1))\nconst _hoisted_13 = { class: \"form__buttons\" }\nconst _hoisted_14 = { class: \"prices-list\" }\nconst _hoisted_15 = { class: \"item__content\" }\nconst _hoisted_16 = { class: \"item__buttons\" }\nconst _hoisted_17 = [\"onClick\"]\nconst _hoisted_18 = [\"onClick\"]\nconst _hoisted_19 = {\n  key: 0,\n  class: \"item__edit-form\"\n}\nconst _hoisted_20 = { class: \"input-field\" }\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"edit-service-category\" }, \"Категория:\", -1))\nconst _hoisted_22 = { class: \"input-field\" }\nconst _hoisted_23 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"edit-service-name\" }, \"Название услуги:\", -1))\nconst _hoisted_24 = { class: \"input-field\" }\nconst _hoisted_25 = [\"onUpdate:modelValue\"]\nconst _hoisted_26 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"edit-service-price\" }, \"Цена:\", -1))\nconst _hoisted_27 = { class: \"input-field\" }\nconst _hoisted_28 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"edit-service-length\" }, \"Продолжительность (минуты):\", -1))\nconst _hoisted_29 = { class: \"form__buttons\" }\n\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\nimport { Prices } from '@/entities/price/model/price.types';\r\nimport { Heading } from '@/shared/ui/text/heading';\r\nimport { Button } from '@/shared/ui/button';\r\nimport { Paragraph } from '@/shared/ui/text/paragraph';\r\nimport { Icon } from '@/shared/ui/icons';\r\n\r\nconst pricesApi = 'http://5.35.90.116:8000/prices';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\nconst pricesData = ref<Prices[]>([]);\r\nconst showAddForm = ref(false);\r\nconst newService = ref<{ category: string; name: string; price: string; lengthInMinutes: number }>({\r\n    category: '',\r\n    name: '',\r\n    price: '',\r\n    lengthInMinutes: 0,\r\n});\r\nconst editService = ref<Prices | null>(null);\r\n\r\nconst fetchPrices = async () => {\r\n    try {\r\n        const response = await axios.get(pricesApi);\r\n        pricesData.value = response.data;\r\n    } catch (error) {\r\n        console.error('Ошибка при получении услуг:', error);\r\n    }\r\n};\r\n\r\nconst saveNewService = async () => {\r\n    try {\r\n        await axios.post(pricesApi, newService.value, {\r\n            headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n        });\r\n        console.log('Услуга добавлена:', newService.value);\r\n        fetchPrices();\r\n    } catch (error) {\r\n        console.error('Ошибка при добавлении услуги:', error);\r\n    }\r\n    cancelAddService();\r\n};\r\n\r\nconst cancelAddService = () => {\r\n    showAddForm.value = false;\r\n    newService.value = { category: '', name: '', price: '', lengthInMinutes: 0 };\r\n};\r\n\r\nconst editSelectedService = (price: Prices) => {\r\n    editService.value = price;\r\n    newService.value = { ...price };\r\n};\r\n\r\nconst saveChanges = async () => {\r\n    try {\r\n        if (editService.value?.id) {\r\n            await axios.put(`${pricesApi}/${editService.value.id}`, newService.value, {\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n                },\r\n            });\r\n            console.log('Изменения для услуги сохранены:', newService.value);\r\n            fetchPrices();\r\n        }\r\n    } catch (error) {\r\n        console.error('Ошибка при редактировании услуги:', error);\r\n    }\r\n    cancelEdit();\r\n};\r\n\r\nconst cancelEdit = () => {\r\n    editService.value = null;\r\n    newService.value = { category: '', name: '', price: '', lengthInMinutes: 0 };\r\n};\r\n\r\nconst deleteService = async (priceId: number) => {\r\n    const confirmDelete = window.confirm('Вы уверены, что хотите удалить этот результат?');\r\n    if (!confirmDelete) {\r\n        return;\r\n    }\r\n    try {\r\n        await axios.delete(`${pricesApi}/${priceId}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n        });\r\n        console.log('Услуга удалена с ID:', priceId);\r\n        fetchPrices();\r\n    } catch (error) {\r\n        console.error('Ошибка при удалении услуги:', error);\r\n    }\r\n};\r\n\r\nonMounted(() => {\r\n    fetchPrices();\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _createVNode(_unref(Heading), {\n      tagName: \"h2\",\n      size: \"xl\"\n    }, {\n      default: _withCtx(() => [\n        _createTextVNode(\"цены и услуги клиники\")\n      ]),\n      _: 1\n    }),\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_unref(Button), {\n        class: \"prices__add-button\",\n        tagName: \"button\",\n        size: \"xs\",\n        color: \"green\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (showAddForm.value = true))\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(Paragraph), {\n            tagName: \"span\",\n            color: \"dark\"\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" добавить услугу \")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      (showAddForm.value)\n        ? (_openBlock(), _createElementBlock(\"form\", _hoisted_4, [\n            _createElementVNode(\"div\", _hoisted_5, [\n              _withDirectives(_createElementVNode(\"input\", {\n                id: \"service-category\",\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((newService.value.category) = $event))\n              }, null, 512), [\n                [_vModelText, newService.value.category]\n              ]),\n              _hoisted_6\n            ]),\n            _createElementVNode(\"div\", _hoisted_7, [\n              _withDirectives(_createElementVNode(\"input\", {\n                id: \"service-name\",\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((newService.value.name) = $event))\n              }, null, 512), [\n                [_vModelText, newService.value.name]\n              ]),\n              _hoisted_8\n            ]),\n            _createElementVNode(\"div\", _hoisted_9, [\n              _withDirectives(_createElementVNode(\"input\", {\n                id: \"service-price\",\n                type: \"number\",\n                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((newService.value.price) = $event))\n              }, null, 512), [\n                [_vModelText, newService.value.price]\n              ]),\n              _hoisted_10\n            ]),\n            _createElementVNode(\"div\", _hoisted_11, [\n              _withDirectives(_createElementVNode(\"input\", {\n                id: \"service-length\",\n                type: \"number\",\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((newService.value.lengthInMinutes) = $event))\n              }, null, 512), [\n                [_vModelText, newService.value.lengthInMinutes]\n              ]),\n              _hoisted_12\n            ]),\n            _createElementVNode(\"div\", _hoisted_13, [\n              _createVNode(_unref(Button), {\n                tagName: \"button\",\n                size: \"xs\",\n                color: \"green\",\n                onClick: saveNewService\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(Paragraph), {\n                    tagName: \"span\",\n                    color: \"dark\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\" Сохранить \")\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(Button), {\n                tagName: \"button\",\n                size: \"xs\",\n                color: \"white\",\n                onClick: cancelAddService\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(Paragraph), {\n                    tagName: \"span\",\n                    color: \"dark\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\" Отменить \")\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ])\n          ]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"ul\", _hoisted_14, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(pricesData.value, (price) => {\n          return (_openBlock(), _createElementBlock(\"li\", {\n            key: price.id,\n            class: \"item\"\n          }, [\n            _createElementVNode(\"div\", _hoisted_15, [\n              _createVNode(_unref(Paragraph), {\n                tagName: \"p\",\n                size: \"xl\",\n                color: \"dark\",\n                class: \"item__text\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(price.category) + \": \" + _toDisplayString(price.name) + \" - \" + _toDisplayString(price.price) + \" руб. \", 1)\n                ]),\n                _: 2\n              }, 1024),\n              _createElementVNode(\"div\", _hoisted_16, [\n                _createElementVNode(\"span\", {\n                  onClick: ($event: any) => (editSelectedService(price))\n                }, [\n                  _createVNode(_unref(Icon), {\n                    type: \"edit\",\n                    color: \"dark\"\n                  })\n                ], 8, _hoisted_17),\n                _createElementVNode(\"span\", {\n                  onClick: ($event: any) => (deleteService(price.id))\n                }, [\n                  _createVNode(_unref(Icon), {\n                    type: \"delete\",\n                    color: \"red\"\n                  })\n                ], 8, _hoisted_18)\n              ])\n            ]),\n            (editService.value && editService.value.id === price.id)\n              ? (_openBlock(), _createElementBlock(\"form\", _hoisted_19, [\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _withDirectives(_createElementVNode(\"input\", {\n                      id: \"edit-service-category\",\n                      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((newService.value.category) = $event))\n                    }, null, 512), [\n                      [_vModelText, newService.value.category]\n                    ]),\n                    _hoisted_21\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_22, [\n                    _withDirectives(_createElementVNode(\"input\", {\n                      id: \"edit-service-name\",\n                      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((newService.value.name) = $event))\n                    }, null, 512), [\n                      [_vModelText, newService.value.name]\n                    ]),\n                    _hoisted_23\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_24, [\n                    _withDirectives(_createElementVNode(\"input\", {\n                      id: \"edit-service-price\",\n                      type: \"number\",\n                      \"onUpdate:modelValue\": ($event: any) => ((newService.value.price) = $event)\n                    }, null, 8, _hoisted_25), [\n                      [_vModelText, newService.value.price]\n                    ]),\n                    _hoisted_26\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_27, [\n                    _withDirectives(_createElementVNode(\"input\", {\n                      id: \"edit-service-length\",\n                      type: \"number\",\n                      \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((newService.value.lengthInMinutes) = $event))\n                    }, null, 512), [\n                      [_vModelText, newService.value.lengthInMinutes]\n                    ]),\n                    _hoisted_28\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_29, [\n                    _createVNode(_unref(Button), {\n                      tagName: \"button\",\n                      size: \"xs\",\n                      color: \"green\",\n                      onClick: saveChanges\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(Paragraph), {\n                          tagName: \"span\",\n                          color: \"dark\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(\" сохранить изменения \")\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_unref(Button), {\n                      tagName: \"button\",\n                      size: \"xs\",\n                      color: \"white\",\n                      onClick: cancelEdit\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(Paragraph), {\n                          tagName: \"span\",\n                          color: \"dark\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(\" отменить \")\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ])\n                ]))\n              : _createCommentVNode(\"\", true)\n          ]))\n        }), 128))\n      ])\n    ])\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\r\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\nimport { Prices } from '@/entities/price/model/price.types';\r\nimport { Heading } from '@/shared/ui/text/heading';\r\nimport { Button } from '@/shared/ui/button';\r\nimport { Paragraph } from '@/shared/ui/text/paragraph';\r\nimport { Icon } from '@/shared/ui/icons';\r\n\r\nconst pricesData = ref<Prices[]>([]);\r\nconst showAddForm = ref(false);\r\nconst newService = ref<{ category: string; name: string; price: string; lengthInMinutes: number }>({\r\n    category: '',\r\n    name: '',\r\n    price: '',\r\n    lengthInMinutes: 0,\r\n});\r\nconst editService = ref<Prices | null>(null);\r\n\r\nconst pricesApi = 'http://5.35.90.116:8000/prices';\r\n\r\nconst fetchPrices = async () => {\r\n    try {\r\n        const response = await axios.get(pricesApi);\r\n        pricesData.value = response.data;\r\n    } catch (error) {\r\n        console.error('Ошибка при получении услуг:', error);\r\n    }\r\n};\r\n\r\nconst saveNewService = async () => {\r\n    try {\r\n        await axios.post(pricesApi, newService.value, {\r\n            headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n        });\r\n        console.log('Услуга добавлена:', newService.value);\r\n        fetchPrices();\r\n    } catch (error) {\r\n        console.error('Ошибка при добавлении услуги:', error);\r\n    }\r\n    cancelAddService();\r\n};\r\n\r\nconst cancelAddService = () => {\r\n    showAddForm.value = false;\r\n    newService.value = { category: '', name: '', price: '', lengthInMinutes: 0 };\r\n};\r\n\r\nconst editSelectedService = (price: Prices) => {\r\n    editService.value = price;\r\n    newService.value = { ...price };\r\n};\r\n\r\nconst saveChanges = async () => {\r\n    try {\r\n        if (editService.value?.id) {\r\n            await axios.put(`${pricesApi}/${editService.value.id}`, newService.value, {\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n                },\r\n            });\r\n            console.log('Изменения для услуги сохранены:', newService.value);\r\n            fetchPrices();\r\n        }\r\n    } catch (error) {\r\n        console.error('Ошибка при редактировании услуги:', error);\r\n    }\r\n    cancelEdit();\r\n};\r\n\r\nconst cancelEdit = () => {\r\n    editService.value = null;\r\n    newService.value = { category: '', name: '', price: '', lengthInMinutes: 0 };\r\n};\r\n\r\nconst deleteService = async (priceId: number) => {\r\n    const confirmDelete = window.confirm('Вы уверены, что хотите удалить этот результат?');\r\n    if (!confirmDelete) {\r\n        return;\r\n    }\r\n    try {\r\n        await axios.delete(`${pricesApi}/${priceId}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n        });\r\n        console.log('Услуга удалена с ID:', priceId);\r\n        fetchPrices();\r\n    } catch (error) {\r\n        console.error('Ошибка при удалении услуги:', error);\r\n    }\r\n};\r\n\r\nonMounted(() => {\r\n    fetchPrices();\r\n});\r\n</script>\r\n<template>\r\n    <section class=\"admin-prices\">\r\n        <Heading tagName=\"h2\" size=\"xl\">цены и услуги клиники</Heading>\r\n        <hr>\r\n        <div class=\"prices__content\">\r\n            <Button class=\"prices__add-button\" tagName=\"button\" size=\"xs\" color=\"green\" @click=\"showAddForm = true\">\r\n                <Paragraph tagName=\"span\" color=\"dark\">\r\n                    добавить услугу\r\n                </Paragraph>\r\n            </Button>\r\n            <form class=\"item__add-form\" v-if=\"showAddForm\">\r\n                <div class=\"input-field\">\r\n                    <input id=\"service-category\" v-model=\"newService.category\" />\r\n                    <label for=\"service-category\">Категория:</label>\r\n                </div>\r\n                <div class=\"input-field\">\r\n                    <input id=\"service-name\" v-model=\"newService.name\" />\r\n                    <label for=\"service-name\">Название услуги:</label>\r\n                </div>\r\n                <div class=\"input-field\">\r\n                    <input id=\"service-price\" type=\"number\" v-model=\"newService.price\" />\r\n                    <label for=\"service-price\">Цена:</label>\r\n                </div>\r\n                <div class=\"input-field\">\r\n                    <input id=\"service-length\" type=\"number\" v-model=\"newService.lengthInMinutes\" />\r\n                    <label for=\"service-length\">Продолжительность (минуты):</label>\r\n                </div>\r\n\r\n                <div class=\"form__buttons\">\r\n                    <Button tagName=\"button\" size=\"xs\" color=\"green\" @click=\"saveNewService\">\r\n                        <Paragraph tagName=\"span\" color=\"dark\">\r\n                            Сохранить\r\n                        </Paragraph>\r\n                    </Button>\r\n                    <Button tagName=\"button\" size=\"xs\" color=\"white\" @click=\"cancelAddService\">\r\n                        <Paragraph tagName=\"span\" color=\"dark\">\r\n                            Отменить\r\n                        </Paragraph>\r\n                    </Button>\r\n                </div>\r\n            </form>\r\n            <ul class=\"prices-list\">\r\n                <li v-for=\"price in pricesData\" :key=\"price.id\" class=\"item\">\r\n                    <div class=\"item__content\">\r\n                        <Paragraph tagName=\"p\" size=\"xl\" color=\"dark\" class=\"item__text\">\r\n                            {{ price.category }}: {{ price.name }} - {{ price.price }} руб.\r\n                        </Paragraph>\r\n                        <div class=\"item__buttons\">\r\n                            <span @click=\"editSelectedService(price)\">\r\n                                <Icon type=\"edit\" color=\"dark\" />\r\n                            </span>\r\n                            <span @click=\"deleteService(price.id)\">\r\n                                <Icon type=\"delete\" color=\"red\" />\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                    <form class=\"item__edit-form\" v-if=\"editService && editService.id === price.id\">\r\n                        <div class=\"input-field\">\r\n                            <input id=\"edit-service-category\" v-model=\"newService.category\" />\r\n                            <label for=\"edit-service-category\">Категория:</label>\r\n                        </div>\r\n                        <div class=\"input-field\">\r\n                            <input id=\"edit-service-name\" v-model=\"newService.name\" />\r\n                            <label for=\"edit-service-name\">Название услуги:</label>\r\n                        </div>\r\n                        <div class=\"input-field\">\r\n                            <input id=\"edit-service-price\" type=\"number\" v-model=\"newService.price\" />\r\n                            <label for=\"edit-service-price\">Цена:</label>\r\n                        </div>\r\n                        <div class=\"input-field\">\r\n                            <input id=\"edit-service-length\" type=\"number\" v-model=\"newService.lengthInMinutes\" />\r\n                            <label for=\"edit-service-length\">Продолжительность (минуты):</label>\r\n                        </div>\r\n                        <div class=\"form__buttons\">\r\n                            <Button tagName=\"button\" size=\"xs\" color=\"green\" @click=\"saveChanges\">\r\n                                <Paragraph tagName=\"span\" color=\"dark\">\r\n                                    сохранить изменения\r\n                                </Paragraph>\r\n                            </Button>\r\n                            <Button tagName=\"button\" size=\"xs\" color=\"white\" @click=\"cancelEdit\">\r\n                                <Paragraph tagName=\"span\" color=\"dark\">\r\n                                    отменить\r\n                                </Paragraph>\r\n                            </Button>\r\n                        </div>\r\n                    </form>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import './style.scss';\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=77bda675&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-77bda675\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","key","_hoisted_5","_hoisted_6","for","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","pricesApi","_defineComponent","__name","setup","__props","pricesData","ref","showAddForm","newService","category","name","price","lengthInMinutes","editService","fetchPrices","async","response","axios","get","value","data","error","console","saveNewService","post","headers","Authorization","localStorage","getItem","log","cancelAddService","editSelectedService","saveChanges","id","put","cancelEdit","deleteService","confirmDelete","window","confirm","delete","priceId","onMounted","_ctx","_cache","_openBlock","_createElementBlock","_createVNode","_unref","Heading","tagName","size","default","_withCtx","_createTextVNode","_","Button","color","onClick","$event","Paragraph","_withDirectives","_vModelText","type","_createCommentVNode","_Fragment","_renderList","_toDisplayString","Icon","__exports__"],"sourceRoot":""}