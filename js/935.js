"use strict";(self["webpackChunkdental_blade"]=self["webpackChunkdental_blade"]||[]).push([[935],{9935:function(e,a,l){l.r(a),l.d(a,{default:function(){return q}});var t=l(641),o=l(953),n=l(3751),i=l(33),r=l(4335),c=l(4853),u=l(6583),s=l(4176),d=l(2669);const k=e=>((0,t.Qi)("data-v-77bda675"),e=e(),(0,t.jt)(),e),v={class:"admin-prices"},p=k((()=>(0,t.Lk)("hr",null,null,-1))),m={class:"prices__content"},b={key:0,class:"item__add-form"},g={class:"input-field"},f=k((()=>(0,t.Lk)("label",{for:"service-category"},"Категория:",-1))),_={class:"input-field"},L=k((()=>(0,t.Lk)("label",{for:"service-name"},"Название услуги:",-1))),h={class:"input-field"},y=k((()=>(0,t.Lk)("label",{for:"service-price"},"Цена:",-1))),R={class:"input-field"},C=k((()=>(0,t.Lk)("label",{for:"service-length"},"Продолжительность (минуты):",-1))),F={class:"form__buttons"},I={class:"prices-list"},N={class:"item__content"},$={class:"item__buttons"},w=["onClick"],z=["onClick"],V={key:0,class:"item__edit-form"},x={class:"input-field"},U=k((()=>(0,t.Lk)("label",{for:"edit-service-category"},"Категория:",-1))),A={class:"input-field"},J=k((()=>(0,t.Lk)("label",{for:"edit-service-name"},"Название услуги:",-1))),M={class:"input-field"},W=["onUpdate:modelValue"],E=k((()=>(0,t.Lk)("label",{for:"edit-service-price"},"Цена:",-1))),K={class:"input-field"},X=k((()=>(0,t.Lk)("label",{for:"edit-service-length"},"Продолжительность (минуты):",-1))),B={class:"form__buttons"},Q="http://5.35.90.116:8000/prices";var S=(0,t.pM)({__name:"index",setup(e){const a=(0,o.KR)([]),l=(0,o.KR)(!1),k=(0,o.KR)({category:"",name:"",price:"",lengthInMinutes:0}),S=(0,o.KR)(null),D=async()=>{try{const e=await r.A.get(Q);a.value=e.data}catch(e){console.error("Ошибка при получении услуг:",e)}},j=async()=>{try{await r.A.post(Q,k.value,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),console.log("Услуга добавлена:",k.value),D()}catch(e){console.error("Ошибка при добавлении услуги:",e)}q()},q=()=>{l.value=!1,k.value={category:"",name:"",price:"",lengthInMinutes:0}},G=e=>{S.value=e,k.value={...e}},H=async()=>{try{S.value?.id&&(await r.A.put(`${Q}/${S.value.id}`,k.value,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),console.log("Изменения для услуги сохранены:",k.value),D())}catch(e){console.error("Ошибка при редактировании услуги:",e)}O()},O=()=>{S.value=null,k.value={category:"",name:"",price:"",lengthInMinutes:0}},P=async e=>{const a=window.confirm("Вы уверены, что хотите удалить этот результат?");if(a)try{await r.A.delete(`${Q}/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),console.log("Услуга удалена с ID:",e),D()}catch(l){console.error("Ошибка при удалении услуги:",l)}};return(0,t.sV)((()=>{D()})),(e,r)=>((0,t.uX)(),(0,t.CE)("section",v,[(0,t.bF)((0,o.R1)(c.D),{tagName:"h2",size:"xl"},{default:(0,t.k6)((()=>[(0,t.eW)("цены и услуги клиники")])),_:1}),p,(0,t.Lk)("div",m,[(0,t.bF)((0,o.R1)(u.$),{class:"prices__add-button",tagName:"button",size:"xs",color:"green",onClick:r[0]||(r[0]=e=>l.value=!0)},{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(s.f),{tagName:"span",color:"dark"},{default:(0,t.k6)((()=>[(0,t.eW)(" добавить услугу ")])),_:1})])),_:1}),l.value?((0,t.uX)(),(0,t.CE)("form",b,[(0,t.Lk)("div",g,[(0,t.bo)((0,t.Lk)("input",{id:"service-category","onUpdate:modelValue":r[1]||(r[1]=e=>k.value.category=e)},null,512),[[n.Jo,k.value.category]]),f]),(0,t.Lk)("div",_,[(0,t.bo)((0,t.Lk)("input",{id:"service-name","onUpdate:modelValue":r[2]||(r[2]=e=>k.value.name=e)},null,512),[[n.Jo,k.value.name]]),L]),(0,t.Lk)("div",h,[(0,t.bo)((0,t.Lk)("input",{id:"service-price",type:"number","onUpdate:modelValue":r[3]||(r[3]=e=>k.value.price=e)},null,512),[[n.Jo,k.value.price]]),y]),(0,t.Lk)("div",R,[(0,t.bo)((0,t.Lk)("input",{id:"service-length",type:"number","onUpdate:modelValue":r[4]||(r[4]=e=>k.value.lengthInMinutes=e)},null,512),[[n.Jo,k.value.lengthInMinutes]]),C]),(0,t.Lk)("div",F,[(0,t.bF)((0,o.R1)(u.$),{tagName:"button",size:"xs",color:"green",onClick:j},{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(s.f),{tagName:"span",color:"dark"},{default:(0,t.k6)((()=>[(0,t.eW)(" Сохранить ")])),_:1})])),_:1}),(0,t.bF)((0,o.R1)(u.$),{tagName:"button",size:"xs",color:"white",onClick:q},{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(s.f),{tagName:"span",color:"dark"},{default:(0,t.k6)((()=>[(0,t.eW)(" Отменить ")])),_:1})])),_:1})])])):(0,t.Q3)("",!0),(0,t.Lk)("ul",I,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(a.value,(e=>((0,t.uX)(),(0,t.CE)("li",{key:e.id,class:"item"},[(0,t.Lk)("div",N,[(0,t.bF)((0,o.R1)(s.f),{tagName:"p",size:"xl",color:"dark",class:"item__text"},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.category)+": "+(0,i.v_)(e.name)+" - "+(0,i.v_)(e.price)+" руб. ",1)])),_:2},1024),(0,t.Lk)("div",$,[(0,t.Lk)("span",{onClick:a=>G(e)},[(0,t.bF)((0,o.R1)(d.I),{type:"edit",color:"dark"})],8,w),(0,t.Lk)("span",{onClick:a=>P(e.id)},[(0,t.bF)((0,o.R1)(d.I),{type:"delete",color:"red"})],8,z)])]),S.value&&S.value.id===e.id?((0,t.uX)(),(0,t.CE)("form",V,[(0,t.Lk)("div",x,[(0,t.bo)((0,t.Lk)("input",{id:"edit-service-category","onUpdate:modelValue":r[5]||(r[5]=e=>k.value.category=e)},null,512),[[n.Jo,k.value.category]]),U]),(0,t.Lk)("div",A,[(0,t.bo)((0,t.Lk)("input",{id:"edit-service-name","onUpdate:modelValue":r[6]||(r[6]=e=>k.value.name=e)},null,512),[[n.Jo,k.value.name]]),J]),(0,t.Lk)("div",M,[(0,t.bo)((0,t.Lk)("input",{id:"edit-service-price",type:"number","onUpdate:modelValue":e=>k.value.price=e},null,8,W),[[n.Jo,k.value.price]]),E]),(0,t.Lk)("div",K,[(0,t.bo)((0,t.Lk)("input",{id:"edit-service-length",type:"number","onUpdate:modelValue":r[7]||(r[7]=e=>k.value.lengthInMinutes=e)},null,512),[[n.Jo,k.value.lengthInMinutes]]),X]),(0,t.Lk)("div",B,[(0,t.bF)((0,o.R1)(u.$),{tagName:"button",size:"xs",color:"green",onClick:H},{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(s.f),{tagName:"span",color:"dark"},{default:(0,t.k6)((()=>[(0,t.eW)(" сохранить изменения ")])),_:1})])),_:1}),(0,t.bF)((0,o.R1)(u.$),{tagName:"button",size:"xs",color:"white",onClick:O},{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(s.f),{tagName:"span",color:"dark"},{default:(0,t.k6)((()=>[(0,t.eW)(" отменить ")])),_:1})])),_:1})])])):(0,t.Q3)("",!0)])))),128))])])]))}}),D=l(6262);const j=(0,D.A)(S,[["__scopeId","data-v-77bda675"]]);var q=j}}]);
//# sourceMappingURL=935.js.map