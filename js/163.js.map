{"version":3,"file":"js/163.js","mappings":"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","sources":["webpack://dental-blade/./src/pages/admin/ui/admin-cases/index.vue?88f4","webpack://dental-blade/./src/pages/admin/ui/admin-cases/index.vue","webpack://dental-blade/./src/pages/admin/ui/admin-cases/index.vue?c653"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, vModelCheckbox as _vModelCheckbox, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-b3ff24f6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"admin-cases\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1))\nconst _hoisted_3 = { class: \"cases__content\" }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"cases-form\"\n}\nconst _hoisted_5 = { class: \"form-item item-images\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Добавьте изображения кейса:\", -1))\nconst _hoisted_7 = [\"src\"]\nconst _hoisted_8 = [\"checked\", \"onChange\"]\nconst _hoisted_9 = { class: \"image-upload-form\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"image-upload\" }, \"Выберите изображение:\", -1))\nconst _hoisted_11 = {\n  key: 0,\n  class: \"image-preview\"\n}\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"Предварительный просмотр:\", -1))\nconst _hoisted_13 = [\"src\"]\nconst _hoisted_14 = { class: \"form-item\" }\nconst _hoisted_15 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"case-name\" }, \"Название кейса:\", -1))\nconst _hoisted_16 = { class: \"form-item\" }\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"case-category\" }, \"Категория:\", -1))\nconst _hoisted_18 = { class: \"form-item\" }\nconst _hoisted_19 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"case-introduction\" }, \"Введение:\", -1))\nconst _hoisted_20 = { class: \"form-item\" }\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"case-diagnos\" }, \"Диагноз:\", -1))\nconst _hoisted_22 = { class: \"form-item\" }\nconst _hoisted_23 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"case-treatment\" }, \"Лечение:\", -1))\nconst _hoisted_24 = { class: \"form-item\" }\nconst _hoisted_25 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"case-total-cost\" }, \"Общая стоимость:\", -1))\nconst _hoisted_26 = { class: \"form-item\" }\nconst _hoisted_27 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"case-slug\" }, \"Slug:\", -1))\nconst _hoisted_28 = { class: \"form-item\" }\nconst _hoisted_29 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Доктор:\", -1))\nconst _hoisted_30 = [\"value\"]\nconst _hoisted_31 = { class: \"form-item\" }\nconst _hoisted_32 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Цены:\", -1))\nconst _hoisted_33 = [\"value\"]\nconst _hoisted_34 = { class: \"form-actions\" }\nconst _hoisted_35 = { key: 1 }\nconst _hoisted_36 = [\"onClick\"]\n\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\nimport { Heading } from '@/shared/ui/text/heading';\r\nimport { Button } from '@/shared/ui/button'\r\n\r\ninterface Image {\r\n    id: string;\r\n    path: string;\r\n    isTitle: boolean;\r\n}\r\n\r\ninterface Price {\r\n    id: string;\r\n    category: string;\r\n    name: string;\r\n    price: number;\r\n    lengthInMinutes: number;\r\n}\r\n\r\ninterface Doctor {\r\n    id: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    middleName: string;\r\n}\r\n\r\ninterface Case {\r\n    id: string;\r\n    name: string;\r\n    category: string;\r\n    introduction: string;\r\n    diagnos: string;\r\n    treatment: string;\r\n    totalCost: number;\r\n    slug: string;\r\n    images: Image[];\r\n    price: Price[];\r\n    doctor: Doctor;\r\n}\r\n\r\nconst casesApi = 'http://5.35.90.116:8000/cases';\r\nconst caseImagesApi = 'http://5.35.90.116:8000/images';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\nconst casesData = ref<Case[]>([]);\r\nconst pricesData = ref<Price[]>([]);\r\nconst doctorsData = ref<Doctor[]>([]);\r\nconst selectedCase = ref<Case | null>(null);\r\nconst selectedPriceIds = ref<string[]>([]);\r\nconst imagePreview = ref<string | null>(null);\r\nconst selectedFile = ref<File | null>(null);\r\n\r\nconst getAuthToken = () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n        console.error('Токен отсутствует');\r\n        return null;\r\n    }\r\n    return token;\r\n};\r\n\r\nconst fetchCases = async () => {\r\n    try {\r\n        const response = await axios.get(casesApi);\r\n        casesData.value = response.data;\r\n    } catch (error) {\r\n        console.error('Ошибка при получении кейсов:', error);\r\n    }\r\n};\r\n\r\nconst fetchPrices = async () => {\r\n    try {\r\n        const response = await axios.get('http://5.35.90.116:8000/prices');\r\n        pricesData.value = response.data;\r\n    } catch (error) {\r\n        console.error('Ошибка при получении цен:', error);\r\n    }\r\n};\r\n\r\nconst fetchDoctors = async () => {\r\n    try {\r\n        const response = await axios.get('http://5.35.90.116:8000/doctors');\r\n        doctorsData.value = response.data;\r\n    } catch (error) {\r\n        console.error('Ошибка при получении докторов:', error);\r\n    }\r\n};\r\n\r\nconst fetchCaseById = async (id: string) => {\r\n    const token = getAuthToken();\r\n    try {\r\n        const response = await axios.get(`${casesApi}/${id}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n        });\r\n        selectedCase.value = response.data;\r\n        selectedPriceIds.value = response.data.price.map((p: Price) => p.id);\r\n    } catch (error) {\r\n        console.error('Ошибка при получении кейса:', error);\r\n    }\r\n};\r\n\r\nconst selectCase = (item: Case) => {\r\n    fetchCaseById(item.id);\r\n};\r\n\r\nconst cancelEdit = () => {\r\n    selectedCase.value = null;\r\n};\r\n\r\nconst handleFileChange = (event: Event) => {\r\n    const target = event.target as HTMLInputElement;\r\n    if (target.files && target.files.length > 0) {\r\n        selectedFile.value = target.files[0];\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            imagePreview.value = e.target?.result as string;\r\n        };\r\n        reader.readAsDataURL(selectedFile.value);\r\n    }\r\n};\r\n\r\nconst uploadImage = async (): Promise<string | null> => {\r\n    const token = getAuthToken();\r\n    if (!selectedFile.value) return null;\r\n\r\n    const formData = new FormData();\r\n    formData.append('path', selectedFile.value);\r\n    formData.append('isTitle', 'false');\r\n\r\n    try {\r\n        const response = await axios.post(caseImagesApi, formData, {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n                'Content-Type': 'multipart/form-data',\r\n            },\r\n        });\r\n        console.log('Изображение успешно загружено:', response.data);\r\n        imagePreview.value = null;\r\n        return response.data.id;\r\n    } catch (error) {\r\n        console.error('Ошибка при загрузке изображения:', error);\r\n        return null;\r\n    }\r\n};\r\n\r\nconst setTitleImage = async (imageId: string): Promise<void> => {\r\n    const token = getAuthToken();\r\n    if (!token) return;\r\n\r\n    try {\r\n        const images = selectedCase.value?.images || [];\r\n        await Promise.all(\r\n            images.map(async (img) => {\r\n                if (img.id !== imageId) {\r\n                    await axios.patch(`http://5.35.90.116:8000/images/${img.id}`, { isTitle: false }, {\r\n                        headers: {\r\n                            Authorization: `Bearer ${token}`,\r\n                        },\r\n                    });\r\n                }\r\n            })\r\n        );\r\n        await axios.patch(`http://5.35.90.116:8000/images/${imageId}`, { isTitle: true }, {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n        });\r\n        console.log(`Титульное изображение обновлено для ID: ${imageId}`);\r\n    } catch (error) {\r\n        console.error('Ошибка при обновлении титульного изображения:', error);\r\n    }\r\n};\r\n\r\nconst deleteImage = async (imageId: string) => {\r\n    if (selectedCase.value) {\r\n        const token = getAuthToken(); \r\n\r\n        selectedCase.value.images = selectedCase.value.images.filter(img => img.id !== imageId);\r\n        try {\r\n            await axios.delete(`http://5.35.90.116:8000/images/${imageId}`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            });\r\n        } catch (error) {\r\n            console.error('Ошибка при удалении изображения с сервера:', error);\r\n        }\r\n    }\r\n};\r\n\r\nconst saveChanges = async () => {\r\n    const token = getAuthToken();\r\n\r\n    let uploadedImageId: string | null = null;\r\n    if (selectedFile.value) {\r\n        uploadedImageId = await uploadImage();\r\n    }\r\n\r\n    if (selectedCase.value) {\r\n        const dataToSend = {\r\n            name: selectedCase.value.name,\r\n            category: selectedCase.value.category,\r\n            introduction: selectedCase.value.introduction,\r\n            diagnos: selectedCase.value.diagnos,\r\n            treatment: selectedCase.value.treatment,\r\n            totalCost: selectedCase.value.totalCost,\r\n            slug: selectedCase.value.slug,\r\n            doctor_id: selectedCase.value.doctor?.id,\r\n            price_id: selectedPriceIds.value,\r\n            images_id: [...selectedCase.value.images.map(img => img.id), uploadedImageId].filter(Boolean),\r\n        };\r\n\r\n        try {\r\n            await axios.put(`${casesApi}/${selectedCase.value.id}`, dataToSend, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            });\r\n            console.log('Изменения успешно сохранены для кейса:', selectedCase.value);\r\n            cancelEdit();\r\n            await fetchCases();\r\n        } catch (error) {\r\n            console.error('Ошибка при сохранении изменений:', error);\r\n        }\r\n    }\r\n};\r\n\r\nonMounted(() => {\r\n    fetchCases();\r\n    fetchPrices();\r\n    fetchDoctors();\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _createVNode(_unref(Heading), {\n      tagName: \"h2\",\n      size: \"xl\"\n    }, {\n      default: _withCtx(() => [\n        _createTextVNode(\"Кейсы клиники\")\n      ]),\n      _: 1\n    }),\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      (selectedCase.value)\n        ? (_openBlock(), _createElementBlock(\"form\", _hoisted_4, [\n            _createElementVNode(\"div\", _hoisted_5, [\n              _hoisted_6,\n              _createElementVNode(\"ul\", null, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(selectedCase.value.images, (image) => {\n                  return (_openBlock(), _createElementBlock(\"li\", {\n                    key: image.id\n                  }, [\n                    _createElementVNode(\"img\", {\n                      src: image.path,\n                      alt: \"Case Image\",\n                      style: {\"width\":\"100px\",\"height\":\"auto\"}\n                    }, null, 8, _hoisted_7),\n                    _createElementVNode(\"p\", null, [\n                      _createTextVNode(\"Сделать титульным \"),\n                      _createElementVNode(\"input\", {\n                        type: \"checkbox\",\n                        checked: image.isTitle,\n                        onChange: ($event: any) => (setTitleImage(image.id))\n                      }, null, 40, _hoisted_8)\n                    ]),\n                    _createVNode(_unref(Button), {\n                      tagName: \"button\",\n                      size: \"xs\",\n                      color: \"red\",\n                      onClick: ($event: any) => (deleteImage(image.id))\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\"Удалить\")\n                      ]),\n                      _: 2\n                    }, 1032, [\"onClick\"])\n                  ]))\n                }), 128))\n              ]),\n              _createElementVNode(\"div\", _hoisted_9, [\n                _hoisted_10,\n                _createElementVNode(\"input\", {\n                  type: \"file\",\n                  id: \"image-upload\",\n                  onChange: handleFileChange,\n                  accept: \"image/*\"\n                }, null, 32),\n                (imagePreview.value)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [\n                      _hoisted_12,\n                      _createElementVNode(\"img\", {\n                        src: imagePreview.value,\n                        alt: \"Image Preview\",\n                        style: {\"max-width\":\"200px\",\"max-height\":\"200px\"}\n                      }, null, 8, _hoisted_13)\n                    ]))\n                  : _createCommentVNode(\"\", true),\n                _createVNode(_unref(Button), {\n                  tagName: \"button\",\n                  size: \"xs\",\n                  color: \"accent\",\n                  onClick: uploadImage,\n                  disabled: !selectedFile.value\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"Загрузить изображение\")\n                  ]),\n                  _: 1\n                }, 8, [\"disabled\"])\n              ])\n            ]),\n            _createElementVNode(\"div\", _hoisted_14, [\n              _hoisted_15,\n              _withDirectives(_createElementVNode(\"input\", {\n                id: \"case-name\",\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((selectedCase.value.name) = $event))\n              }, null, 512), [\n                [_vModelText, selectedCase.value.name]\n              ])\n            ]),\n            _createElementVNode(\"div\", _hoisted_16, [\n              _hoisted_17,\n              _withDirectives(_createElementVNode(\"input\", {\n                id: \"case-category\",\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((selectedCase.value.category) = $event))\n              }, null, 512), [\n                [_vModelText, selectedCase.value.category]\n              ])\n            ]),\n            _createElementVNode(\"div\", _hoisted_18, [\n              _hoisted_19,\n              _withDirectives(_createElementVNode(\"textarea\", {\n                id: \"case-introduction\",\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((selectedCase.value.introduction) = $event))\n              }, null, 512), [\n                [_vModelText, selectedCase.value.introduction]\n              ])\n            ]),\n            _createElementVNode(\"div\", _hoisted_20, [\n              _hoisted_21,\n              _withDirectives(_createElementVNode(\"textarea\", {\n                id: \"case-diagnos\",\n                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((selectedCase.value.diagnos) = $event))\n              }, null, 512), [\n                [_vModelText, selectedCase.value.diagnos]\n              ])\n            ]),\n            _createElementVNode(\"div\", _hoisted_22, [\n              _hoisted_23,\n              _withDirectives(_createElementVNode(\"textarea\", {\n                id: \"case-treatment\",\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((selectedCase.value.treatment) = $event))\n              }, null, 512), [\n                [_vModelText, selectedCase.value.treatment]\n              ])\n            ]),\n            _createElementVNode(\"div\", _hoisted_24, [\n              _hoisted_25,\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"number\",\n                id: \"case-total-cost\",\n                \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((selectedCase.value.totalCost) = $event))\n              }, null, 512), [\n                [\n                  _vModelText,\n                  selectedCase.value.totalCost,\n                  void 0,\n                  { number: true }\n                ]\n              ])\n            ]),\n            _createElementVNode(\"div\", _hoisted_26, [\n              _hoisted_27,\n              _withDirectives(_createElementVNode(\"input\", {\n                id: \"case-slug\",\n                \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((selectedCase.value.slug) = $event))\n              }, null, 512), [\n                [_vModelText, selectedCase.value.slug]\n              ])\n            ]),\n            _createElementVNode(\"div\", _hoisted_28, [\n              _hoisted_29,\n              _withDirectives(_createElementVNode(\"select\", {\n                \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((selectedCase.value.doctor.id) = $event))\n              }, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(doctorsData.value, (doctor) => {\n                  return (_openBlock(), _createElementBlock(\"option\", {\n                    key: doctor.id,\n                    value: doctor.id\n                  }, _toDisplayString(doctor.firstName) + \" \" + _toDisplayString(doctor.lastName), 9, _hoisted_30))\n                }), 128))\n              ], 512), [\n                [_vModelSelect, selectedCase.value.doctor.id]\n              ])\n            ]),\n            _createElementVNode(\"div\", _hoisted_31, [\n              _hoisted_32,\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(pricesData.value, (price) => {\n                return (_openBlock(), _createElementBlock(\"div\", {\n                  key: price.id\n                }, [\n                  _withDirectives(_createElementVNode(\"input\", {\n                    type: \"checkbox\",\n                    value: price.id,\n                    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((selectedPriceIds).value = $event))\n                  }, null, 8, _hoisted_33), [\n                    [_vModelCheckbox, selectedPriceIds.value]\n                  ]),\n                  _createTextVNode(\" \" + _toDisplayString(price.name) + \" - \" + _toDisplayString(price.price), 1)\n                ]))\n              }), 128))\n            ]),\n            _createElementVNode(\"div\", _hoisted_34, [\n              _createVNode(_unref(Button), {\n                tagName: \"button\",\n                size: \"xs\",\n                color: \"green\",\n                onClick: saveChanges\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Сохранить изменения\")\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(Button), {\n                tagName: \"button\",\n                size: \"xs\",\n                color: \"white\",\n                onClick: cancelEdit\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Отмена\")\n                ]),\n                _: 1\n              })\n            ])\n          ]))\n        : (_openBlock(), _createElementBlock(\"ul\", _hoisted_35, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(casesData.value, (item) => {\n              return (_openBlock(), _createElementBlock(\"li\", {\n                key: item.id\n              }, [\n                _createElementVNode(\"span\", {\n                  onClick: ($event: any) => (selectCase(item))\n                }, _toDisplayString(item.name), 9, _hoisted_36)\n              ]))\n            }), 128))\n          ]))\n    ])\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\r\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\nimport { Heading } from '@/shared/ui/text/heading';\r\nimport { Button } from '@/shared/ui/button'\r\n\r\ninterface Image {\r\n    id: string;\r\n    path: string;\r\n    isTitle: boolean;\r\n}\r\n\r\ninterface Price {\r\n    id: string;\r\n    category: string;\r\n    name: string;\r\n    price: number;\r\n    lengthInMinutes: number;\r\n}\r\n\r\ninterface Doctor {\r\n    id: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    middleName: string;\r\n}\r\n\r\ninterface Case {\r\n    id: string;\r\n    name: string;\r\n    category: string;\r\n    introduction: string;\r\n    diagnos: string;\r\n    treatment: string;\r\n    totalCost: number;\r\n    slug: string;\r\n    images: Image[];\r\n    price: Price[];\r\n    doctor: Doctor;\r\n}\r\n\r\nconst casesData = ref<Case[]>([]);\r\nconst pricesData = ref<Price[]>([]);\r\nconst doctorsData = ref<Doctor[]>([]);\r\nconst selectedCase = ref<Case | null>(null);\r\nconst selectedPriceIds = ref<string[]>([]);\r\nconst imagePreview = ref<string | null>(null);\r\nconst selectedFile = ref<File | null>(null);\r\n\r\nconst casesApi = 'http://5.35.90.116:8000/cases';\r\nconst caseImagesApi = 'http://5.35.90.116:8000/images';\r\n\r\nconst getAuthToken = () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n        console.error('Токен отсутствует');\r\n        return null;\r\n    }\r\n    return token;\r\n};\r\n\r\nconst fetchCases = async () => {\r\n    try {\r\n        const response = await axios.get(casesApi);\r\n        casesData.value = response.data;\r\n    } catch (error) {\r\n        console.error('Ошибка при получении кейсов:', error);\r\n    }\r\n};\r\n\r\nconst fetchPrices = async () => {\r\n    try {\r\n        const response = await axios.get('http://5.35.90.116:8000/prices');\r\n        pricesData.value = response.data;\r\n    } catch (error) {\r\n        console.error('Ошибка при получении цен:', error);\r\n    }\r\n};\r\n\r\nconst fetchDoctors = async () => {\r\n    try {\r\n        const response = await axios.get('http://5.35.90.116:8000/doctors');\r\n        doctorsData.value = response.data;\r\n    } catch (error) {\r\n        console.error('Ошибка при получении докторов:', error);\r\n    }\r\n};\r\n\r\nconst fetchCaseById = async (id: string) => {\r\n    const token = getAuthToken();\r\n    try {\r\n        const response = await axios.get(`${casesApi}/${id}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n        });\r\n        selectedCase.value = response.data;\r\n        selectedPriceIds.value = response.data.price.map((p: Price) => p.id);\r\n    } catch (error) {\r\n        console.error('Ошибка при получении кейса:', error);\r\n    }\r\n};\r\n\r\nconst selectCase = (item: Case) => {\r\n    fetchCaseById(item.id);\r\n};\r\n\r\nconst cancelEdit = () => {\r\n    selectedCase.value = null;\r\n};\r\n\r\nconst handleFileChange = (event: Event) => {\r\n    const target = event.target as HTMLInputElement;\r\n    if (target.files && target.files.length > 0) {\r\n        selectedFile.value = target.files[0];\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            imagePreview.value = e.target?.result as string;\r\n        };\r\n        reader.readAsDataURL(selectedFile.value);\r\n    }\r\n};\r\n\r\nconst uploadImage = async (): Promise<string | null> => {\r\n    const token = getAuthToken();\r\n    if (!selectedFile.value) return null;\r\n\r\n    const formData = new FormData();\r\n    formData.append('path', selectedFile.value);\r\n    formData.append('isTitle', 'false');\r\n\r\n    try {\r\n        const response = await axios.post(caseImagesApi, formData, {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n                'Content-Type': 'multipart/form-data',\r\n            },\r\n        });\r\n        console.log('Изображение успешно загружено:', response.data);\r\n        imagePreview.value = null;\r\n        return response.data.id;\r\n    } catch (error) {\r\n        console.error('Ошибка при загрузке изображения:', error);\r\n        return null;\r\n    }\r\n};\r\n\r\nconst setTitleImage = async (imageId: string): Promise<void> => {\r\n    const token = getAuthToken();\r\n    if (!token) return;\r\n\r\n    try {\r\n        const images = selectedCase.value?.images || [];\r\n        await Promise.all(\r\n            images.map(async (img) => {\r\n                if (img.id !== imageId) {\r\n                    await axios.patch(`http://5.35.90.116:8000/images/${img.id}`, { isTitle: false }, {\r\n                        headers: {\r\n                            Authorization: `Bearer ${token}`,\r\n                        },\r\n                    });\r\n                }\r\n            })\r\n        );\r\n        await axios.patch(`http://5.35.90.116:8000/images/${imageId}`, { isTitle: true }, {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n        });\r\n        console.log(`Титульное изображение обновлено для ID: ${imageId}`);\r\n    } catch (error) {\r\n        console.error('Ошибка при обновлении титульного изображения:', error);\r\n    }\r\n};\r\n\r\nconst deleteImage = async (imageId: string) => {\r\n    if (selectedCase.value) {\r\n        const token = getAuthToken(); \r\n\r\n        selectedCase.value.images = selectedCase.value.images.filter(img => img.id !== imageId);\r\n        try {\r\n            await axios.delete(`http://5.35.90.116:8000/images/${imageId}`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            });\r\n        } catch (error) {\r\n            console.error('Ошибка при удалении изображения с сервера:', error);\r\n        }\r\n    }\r\n};\r\n\r\nconst saveChanges = async () => {\r\n    const token = getAuthToken();\r\n\r\n    let uploadedImageId: string | null = null;\r\n    if (selectedFile.value) {\r\n        uploadedImageId = await uploadImage();\r\n    }\r\n\r\n    if (selectedCase.value) {\r\n        const dataToSend = {\r\n            name: selectedCase.value.name,\r\n            category: selectedCase.value.category,\r\n            introduction: selectedCase.value.introduction,\r\n            diagnos: selectedCase.value.diagnos,\r\n            treatment: selectedCase.value.treatment,\r\n            totalCost: selectedCase.value.totalCost,\r\n            slug: selectedCase.value.slug,\r\n            doctor_id: selectedCase.value.doctor?.id,\r\n            price_id: selectedPriceIds.value,\r\n            images_id: [...selectedCase.value.images.map(img => img.id), uploadedImageId].filter(Boolean),\r\n        };\r\n\r\n        try {\r\n            await axios.put(`${casesApi}/${selectedCase.value.id}`, dataToSend, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            });\r\n            console.log('Изменения успешно сохранены для кейса:', selectedCase.value);\r\n            cancelEdit();\r\n            await fetchCases();\r\n        } catch (error) {\r\n            console.error('Ошибка при сохранении изменений:', error);\r\n        }\r\n    }\r\n};\r\n\r\nonMounted(() => {\r\n    fetchCases();\r\n    fetchPrices();\r\n    fetchDoctors();\r\n});\r\n</script>\r\n\r\n<template>\r\n    <section class=\"admin-cases\">\r\n        <Heading tagName=\"h2\" size=\"xl\">Кейсы клиники</Heading>\r\n        <hr>\r\n        <div class=\"cases__content\">\r\n            <template v-if=\"selectedCase\">\r\n                <form class=\"cases-form\">\r\n                    <div class=\"form-item item-images\">\r\n                        <label>Добавьте изображения кейса:</label>\r\n                        <ul>\r\n                            <li v-for=\"image in selectedCase.images\" :key=\"image.id\">\r\n                                <img :src=\"image.path\" alt=\"Case Image\" style=\"width: 100px; height: auto;\" />\r\n                                <p>Сделать титульным\r\n                                    <input type=\"checkbox\" :checked=\"image.isTitle\" @change=\"setTitleImage(image.id)\" />\r\n                                </p>\r\n                                <Button tagName=\"button\" size=\"xs\" color=\"red\" @click=\"deleteImage(image.id)\">Удалить</Button>\r\n                            </li>\r\n                        </ul>\r\n\r\n                        <div class=\"image-upload-form\">\r\n                            <label for=\"image-upload\">Выберите изображение:</label>\r\n                            <input type=\"file\" id=\"image-upload\" @change=\"handleFileChange\" accept=\"image/*\" />\r\n\r\n                            <div v-if=\"imagePreview\" class=\"image-preview\">\r\n                                <h3>Предварительный просмотр:</h3>\r\n                                <img :src=\"imagePreview\" alt=\"Image Preview\" style=\"max-width: 200px; max-height: 200px;\" />\r\n                            </div>\r\n\r\n                            <Button tagName=\"button\" size=\"xs\" color=\"accent\" @click=\"uploadImage\" :disabled=\"!selectedFile\">Загрузить изображение</Button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-item\">\r\n                        <label for=\"case-name\">Название кейса:</label>\r\n                        <input id=\"case-name\" v-model=\"selectedCase.name\" />\r\n                    </div>\r\n                    <div class=\"form-item\">\r\n                        <label for=\"case-category\">Категория:</label>\r\n                        <input id=\"case-category\" v-model=\"selectedCase.category\" />\r\n                    </div>\r\n                    <div class=\"form-item\">\r\n                        <label for=\"case-introduction\">Введение:</label>\r\n                        <textarea id=\"case-introduction\" v-model=\"selectedCase.introduction\"></textarea>\r\n                    </div>\r\n                    <div class=\"form-item\">\r\n                        <label for=\"case-diagnos\">Диагноз:</label>\r\n                        <textarea id=\"case-diagnos\" v-model=\"selectedCase.diagnos\"></textarea>\r\n                    </div>\r\n                    <div class=\"form-item\">\r\n                        <label for=\"case-treatment\">Лечение:</label>\r\n                        <textarea id=\"case-treatment\" v-model=\"selectedCase.treatment\"></textarea>\r\n                    </div>\r\n                    <div class=\"form-item\">\r\n                        <label for=\"case-total-cost\">Общая стоимость:</label>\r\n                        <input type=\"number\" id=\"case-total-cost\" v-model.number=\"selectedCase.totalCost\" />\r\n                    </div>\r\n                    <div class=\"form-item\">\r\n                        <label for=\"case-slug\">Slug:</label>\r\n                        <input id=\"case-slug\" v-model=\"selectedCase.slug\" />\r\n                    </div>\r\n                    <div class=\"form-item\">\r\n                        <label>Доктор:</label>\r\n                        <select v-model=\"selectedCase.doctor.id\">\r\n                            <option v-for=\"doctor in doctorsData\" :key=\"doctor.id\" :value=\"doctor.id\">{{ doctor.firstName }} {{ doctor.lastName }}</option>\r\n                        </select>\r\n                    </div>\r\n                    <div class=\"form-item\">\r\n                        <label>Цены:</label>\r\n                        <div v-for=\"price in pricesData\" :key=\"price.id\">\r\n                            <input type=\"checkbox\" :value=\"price.id\" v-model=\"selectedPriceIds\" /> {{ price.name }} - {{ price.price }}\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-actions\">\r\n                        <Button tagName=\"button\" size=\"xs\" color=\"green\" @click=\"saveChanges\">Сохранить изменения</Button>\r\n                        <Button tagName=\"button\" size=\"xs\" color=\"white\" @click=\"cancelEdit\">Отмена</Button>\r\n                    </div>\r\n                </form>\r\n            </template>\r\n            <template v-else>\r\n                <ul>\r\n                    <li v-for=\"item in casesData\" :key=\"item.id\">\r\n                        <span @click=\"selectCase(item)\">{{ item.name }}</span>\r\n                    </li>\r\n                </ul>\r\n            </template>\r\n        </div>\r\n    </section>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n@import './style.scss';\r\n</style>","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=b3ff24f6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b3ff24f6\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","key","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","for","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","casesApi","caseImagesApi","_defineComponent","__name","setup","__props","casesData","ref","pricesData","doctorsData","selectedCase","selectedPriceIds","imagePreview","selectedFile","getAuthToken","token","localStorage","getItem","console","error","fetchCases","async","response","axios","get","value","data","fetchPrices","fetchDoctors","fetchCaseById","id","headers","Authorization","price","map","p","selectCase","item","cancelEdit","handleFileChange","event","target","files","length","reader","FileReader","onload","e","result","readAsDataURL","uploadImage","formData","FormData","append","post","log","setTitleImage","images","Promise","all","img","imageId","patch","isTitle","deleteImage","filter","delete","saveChanges","uploadedImageId","dataToSend","name","category","introduction","diagnos","treatment","totalCost","slug","doctor_id","doctor","price_id","images_id","Boolean","put","onMounted","_ctx","_cache","_openBlock","_createElementBlock","_createVNode","_unref","Heading","tagName","size","default","_withCtx","_createTextVNode","_","_Fragment","_renderList","image","src","path","alt","style","type","checked","onChange","$event","Button","color","onClick","accept","_createCommentVNode","disabled","_withDirectives","_vModelText","number","_toDisplayString","firstName","lastName","_vModelSelect","_vModelCheckbox","__exports__"],"sourceRoot":""}