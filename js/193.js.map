{"version":3,"file":"js/193.js","mappings":"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","sources":["webpack://dental-blade/./src/pages/admin/ui/admin-contacts/index.vue?7408","webpack://dental-blade/./src/pages/admin/ui/admin-contacts/index.vue","webpack://dental-blade/./src/pages/admin/ui/admin-contacts/index.vue?bcda"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-471403b5\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"admin-contacts\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1))\nconst _hoisted_3 = { class: \"contacts-form\" }\nconst _hoisted_4 = { class: \"input-field\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Введите название клиники\", -1))\nconst _hoisted_6 = { class: \"input-field\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Введите id клиники(в соответствии с интеграционной платформой)\", -1))\nconst _hoisted_8 = { class: \"input-field\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Введите адрес\", -1))\nconst _hoisted_10 = { class: \"input-field\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Введите рабочий телефон\", -1))\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Укажите время работы клиники\", -1))\nconst _hoisted_13 = { class: \"time\" }\nconst _hoisted_14 = { class: \"input-field\" }\nconst _hoisted_15 = { class: \"input-field\" }\nconst _hoisted_16 = { class: \"input-field\" }\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Введите email\", -1))\nconst _hoisted_18 = { class: \"input-field\" }\nconst _hoisted_19 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Введите номер для связи в WhatsApp\", -1))\nconst _hoisted_20 = { class: \"input-field\" }\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Введите ссылку для связи в VK\", -1))\nconst _hoisted_22 = { class: \"input-field\" }\nconst _hoisted_23 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Введите ник либо номер для связи в Telegram\", -1))\nconst _hoisted_24 = { class: \"input-field\" }\nconst _hoisted_25 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Введите ссылку для связи в Facebook\", -1))\n\nimport { ref, onMounted } from 'vue';\r\nimport { Heading } from '@/shared/ui/text/heading';\r\nimport axios from 'axios';\r\nimport { Contacts } from '@/entities/contacts/model/contacts.types';\r\nimport { Button } from '@/shared/ui/button';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\nconst address = ref('');\r\nconst clinicId = ref('');\r\nconst name = ref('');\r\nconst phone = ref('');\r\nconst timeStart = ref('');\r\nconst timeEnd = ref('');\r\nconst email = ref('');\r\nconst wsLink = ref('');\r\nconst vkLink = ref('');\r\nconst tgLink = ref('');\r\nconst fbLink = ref('');\r\nconst contactId = ref<string | null>(null); \r\n\r\nconst fetchContacts = async () => {\r\n    try {\r\n        const response = await axios.get('http://5.35.90.116:8000/contacts', {\r\n            headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n        });\r\n        const contact: Contacts | undefined = response.data[0]; \r\n        if (contact) {\r\n            contactId.value = contact.id;\r\n            address.value = contact.address;\r\n            clinicId.value = contact.clinicId;\r\n            name.value = contact.name;\r\n            phone.value = contact.phone;\r\n            timeStart.value = contact.timeStart;\r\n            timeEnd.value = contact.timeEnd;\r\n            email.value = contact.email;\r\n            wsLink.value = contact.wsLink;\r\n            vkLink.value = contact.vkLink;\r\n            tgLink.value = contact.tgLink;\r\n            fbLink.value = contact.fbLink;\r\n        }\r\n    } catch (error) {\r\n        console.error('Ошибка при получении контактов:', error);\r\n    }\r\n};\r\n\r\nonMounted(() => {\r\n    fetchContacts();\r\n});\r\n\r\nconst saveContacts = async () => {\r\n    const data: Contacts = {\r\n        id: contactId.value || '',\r\n        clinicId: clinicId.value,  \r\n        name: name.value,\r\n        address: address.value,\r\n        phone: phone.value,\r\n        timeStart: timeStart.value,\r\n        timeEnd: timeEnd.value,\r\n        email: email.value,\r\n        wsLink: wsLink.value,\r\n        vkLink: vkLink.value,\r\n        tgLink: tgLink.value,\r\n        fbLink: fbLink.value,\r\n    };\r\n\r\n    console.log('Данные:', data);\r\n\r\n    try {\r\n        if (contactId.value) {\r\n            await axios.put(`http://5.35.90.116:8000/contacts/${contactId.value}`, data, {\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n                },\r\n            });\r\n        } else {\r\n            await axios.post('http://5.35.90.116:8000/contacts', data, {\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n                },\r\n            });\r\n        }\r\n        console.log('Данные успешно сохранены');\r\n    } catch (error: any) {\r\n        console.error('Ошибка при сохранении данных:', error);\r\n        if (error.response) {\r\n            console.error('Данные об ошибке:', error.response.data);\r\n        }\r\n    }\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _createVNode(_unref(Heading), {\n      tagName: \"h2\",\n      size: \"xl\"\n    }, {\n      default: _withCtx(() => [\n        _createTextVNode(\"Контакты клиники\")\n      ]),\n      _: 1\n    }),\n    _hoisted_2,\n    _createElementVNode(\"form\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _withDirectives(_createElementVNode(\"input\", {\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((name).value = $event)),\n          placeholder: \"Дентал Клиник\"\n        }, null, 512), [\n          [_vModelText, name.value]\n        ]),\n        _hoisted_5\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _withDirectives(_createElementVNode(\"input\", {\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((clinicId).value = $event)),\n          placeholder: \"546\"\n        }, null, 512), [\n          [_vModelText, clinicId.value]\n        ]),\n        _hoisted_7\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        _withDirectives(_createElementVNode(\"input\", {\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((address).value = $event)),\n          placeholder: \"Москва, Кутузовский пр-кт, 45\"\n        }, null, 512), [\n          [_vModelText, address.value]\n        ]),\n        _hoisted_9\n      ]),\n      _createElementVNode(\"div\", _hoisted_10, [\n        _withDirectives(_createElementVNode(\"input\", {\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((phone).value = $event)),\n          placeholder: \"+74959889939\"\n        }, null, 512), [\n          [_vModelText, phone.value]\n        ]),\n        _hoisted_11\n      ]),\n      _hoisted_12,\n      _createElementVNode(\"div\", _hoisted_13, [\n        _createElementVNode(\"div\", _hoisted_14, [\n          _withDirectives(_createElementVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((timeStart).value = $event)),\n            type: \"time\"\n          }, null, 512), [\n            [_vModelText, timeStart.value]\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_15, [\n          _withDirectives(_createElementVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((timeEnd).value = $event)),\n            type: \"time\"\n          }, null, 512), [\n            [_vModelText, timeEnd.value]\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_16, [\n        _withDirectives(_createElementVNode(\"input\", {\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((email).value = $event)),\n          type: \"email\",\n          placeholder: \"dental-blade@mail.ru\"\n        }, null, 512), [\n          [_vModelText, email.value]\n        ]),\n        _hoisted_17\n      ]),\n      _createElementVNode(\"div\", _hoisted_18, [\n        _withDirectives(_createElementVNode(\"input\", {\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((wsLink).value = $event)),\n          placeholder: \"+74959889939\"\n        }, null, 512), [\n          [_vModelText, wsLink.value]\n        ]),\n        _hoisted_19\n      ]),\n      _createElementVNode(\"div\", _hoisted_20, [\n        _withDirectives(_createElementVNode(\"input\", {\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((vkLink).value = $event)),\n          placeholder: \"https://www.vk.com/dental-blade\"\n        }, null, 512), [\n          [_vModelText, vkLink.value]\n        ]),\n        _hoisted_21\n      ]),\n      _createElementVNode(\"div\", _hoisted_22, [\n        _withDirectives(_createElementVNode(\"input\", {\n          \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((tgLink).value = $event)),\n          placeholder: \"dental-blade/+79617977454\"\n        }, null, 512), [\n          [_vModelText, tgLink.value]\n        ]),\n        _hoisted_23\n      ]),\n      _createElementVNode(\"div\", _hoisted_24, [\n        _withDirectives(_createElementVNode(\"input\", {\n          \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((fbLink).value = $event)),\n          placeholder: \"https://www.facebook.com/dental-blade\"\n        }, null, 512), [\n          [_vModelText, fbLink.value]\n        ]),\n        _hoisted_25\n      ]),\n      _createVNode(_unref(Button), {\n        tagName: \"button\",\n        size: \"xs\",\n        color: \"green\",\n        onClick: saveContacts\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Сохранить\")\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\r\nimport { ref, onMounted } from 'vue';\r\nimport { Heading } from '@/shared/ui/text/heading';\r\nimport axios from 'axios';\r\nimport { Contacts } from '@/entities/contacts/model/contacts.types';\r\nimport { Button } from '@/shared/ui/button';\r\n\r\nconst address = ref('');\r\nconst clinicId = ref('');\r\nconst name = ref('');\r\nconst phone = ref('');\r\nconst timeStart = ref('');\r\nconst timeEnd = ref('');\r\nconst email = ref('');\r\nconst wsLink = ref('');\r\nconst vkLink = ref('');\r\nconst tgLink = ref('');\r\nconst fbLink = ref('');\r\nconst contactId = ref<string | null>(null); \r\n\r\nconst fetchContacts = async () => {\r\n    try {\r\n        const response = await axios.get('http://5.35.90.116:8000/contacts', {\r\n            headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n        });\r\n        const contact: Contacts | undefined = response.data[0]; \r\n        if (contact) {\r\n            contactId.value = contact.id;\r\n            address.value = contact.address;\r\n            clinicId.value = contact.clinicId;\r\n            name.value = contact.name;\r\n            phone.value = contact.phone;\r\n            timeStart.value = contact.timeStart;\r\n            timeEnd.value = contact.timeEnd;\r\n            email.value = contact.email;\r\n            wsLink.value = contact.wsLink;\r\n            vkLink.value = contact.vkLink;\r\n            tgLink.value = contact.tgLink;\r\n            fbLink.value = contact.fbLink;\r\n        }\r\n    } catch (error) {\r\n        console.error('Ошибка при получении контактов:', error);\r\n    }\r\n};\r\n\r\nonMounted(() => {\r\n    fetchContacts();\r\n});\r\n\r\nconst saveContacts = async () => {\r\n    const data: Contacts = {\r\n        id: contactId.value || '',\r\n        clinicId: clinicId.value,  \r\n        name: name.value,\r\n        address: address.value,\r\n        phone: phone.value,\r\n        timeStart: timeStart.value,\r\n        timeEnd: timeEnd.value,\r\n        email: email.value,\r\n        wsLink: wsLink.value,\r\n        vkLink: vkLink.value,\r\n        tgLink: tgLink.value,\r\n        fbLink: fbLink.value,\r\n    };\r\n\r\n    console.log('Данные:', data);\r\n\r\n    try {\r\n        if (contactId.value) {\r\n            await axios.put(`http://5.35.90.116:8000/contacts/${contactId.value}`, data, {\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n                },\r\n            });\r\n        } else {\r\n            await axios.post('http://5.35.90.116:8000/contacts', data, {\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n                },\r\n            });\r\n        }\r\n        console.log('Данные успешно сохранены');\r\n    } catch (error: any) {\r\n        console.error('Ошибка при сохранении данных:', error);\r\n        if (error.response) {\r\n            console.error('Данные об ошибке:', error.response.data);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n\r\n<template>\r\n    <section class=\"admin-contacts\">\r\n        <Heading tagName=\"h2\" size=\"xl\">Контакты клиники</Heading>\r\n        <hr>\r\n        <form class=\"contacts-form\">\r\n            <div class=\"input-field\">\r\n                <input v-model=\"name\" placeholder=\"Дентал Клиник\" />\r\n                <label>Введите название клиники</label>\r\n            </div>\r\n            <div class=\"input-field\">\r\n                <input v-model=\"clinicId\" placeholder=\"546\" />\r\n                <label>Введите id клиники(в соответствии  с интеграционной платформой)</label>\r\n            </div>\r\n            <div class=\"input-field\">\r\n                <input v-model=\"address\" placeholder=\"Москва, Кутузовский пр-кт, 45\" />\r\n                <label>Введите адрес</label>\r\n            </div>\r\n            <div class=\"input-field\">\r\n                <input v-model=\"phone\" placeholder=\"+74959889939\" />\r\n                <label>Введите рабочий телефон</label>\r\n            </div>\r\n            <label>Укажите время работы клиники</label>\r\n            <div class=\"time\">\r\n                <div class=\"input-field\">\r\n                    <input v-model=\"timeStart\" type=\"time\" />\r\n                </div>\r\n                <div class=\"input-field\">\r\n                    <input v-model=\"timeEnd\" type=\"time\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"input-field\">\r\n                <input v-model=\"email\" type=\"email\" placeholder=\"dental-blade@mail.ru\" />\r\n                <label>Введите email</label>\r\n            </div>\r\n            <div class=\"input-field\">\r\n                <input v-model=\"wsLink\" placeholder=\"+74959889939\" />\r\n                <label>Введите номер для связи в WhatsApp</label>\r\n            </div>\r\n            <div class=\"input-field\">\r\n                <input v-model=\"vkLink\" placeholder=\"https://www.vk.com/dental-blade\" />\r\n                <label>Введите ссылку для связи в VK</label>\r\n            </div>\r\n            <div class=\"input-field\">\r\n                <input v-model=\"tgLink\" placeholder=\"dental-blade/+79617977454\" />\r\n                <label>Введите ник либо номер для связи в Telegram</label>\r\n            </div>\r\n            <div class=\"input-field\">\r\n                <input v-model=\"fbLink\" placeholder=\"https://www.facebook.com/dental-blade\" />\r\n                <label>Введите ссылку для связи в Facebook</label>\r\n            </div>\r\n            <Button tagName=\"button\" size=\"xs\" color=\"green\" @click=\"saveContacts\">Сохранить</Button>\r\n        </form>\r\n    </section>\r\n</template>\r\n\r\n\r\n<style scoped lang=\"scss\">\r\n@import './style.scss';\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=471403b5&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-471403b5\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_defineComponent","__name","setup","__props","address","ref","clinicId","name","phone","timeStart","timeEnd","email","wsLink","vkLink","tgLink","fbLink","contactId","fetchContacts","async","response","axios","get","headers","Authorization","localStorage","getItem","contact","data","value","id","error","console","onMounted","saveContacts","log","put","post","_ctx","_cache","_openBlock","_createElementBlock","_createVNode","_unref","Heading","tagName","size","default","_withCtx","_createTextVNode","_","_withDirectives","$event","placeholder","_vModelText","type","Button","color","onClick","__exports__"],"sourceRoot":""}